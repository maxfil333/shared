<mxfile host="app.diagrams.net" modified="2024-01-24T15:05:41.252Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36" etag="aZnOM3e4J1cgpTqjrnP_" version="22.1.21" type="github">
  <diagram name="Страница — 1" id="la5cO36zwQWxTpJ-C7PE">
    <mxGraphModel dx="1909" dy="1221" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="jAn2KmhTPxv43Cljfc9A-4" value="&lt;h1&gt;L1, L2 норма вектора&lt;/h1&gt;&lt;p style=&quot;font-size: 14px;&quot;&gt;Манхэттенская норма L1 :&lt;/p&gt;&lt;p style=&quot;font-size: 14px;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;l1(v) = ||v||1 = |a1| + |a2| + |a3|&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;font-size: 14px;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;a = np.array([1,2,3]) // norm(a, 1) = 6&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;font-size: 14px;&quot;&gt;евклидова норма L2 :&lt;/p&gt;&lt;p style=&quot;font-size: 14px;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;l2(v) = ||v||2 = sqrt(a1^2 + a2^2 + a3^2)&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;font-size: 14px;&quot;&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;a = np.array([1,2,3]) // norm(a, 2) = 3.74&lt;/font&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;/font&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-145.5" y="-157" width="323" height="285" as="geometry" />
        </mxCell>
        <mxCell id="jAn2KmhTPxv43Cljfc9A-11" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-392" y="6" width="792" height="707" as="geometry" />
        </mxCell>
        <mxCell id="jAn2KmhTPxv43Cljfc9A-2" value="&lt;h1&gt;Скалярное произведение векторов&lt;/h1&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;p&gt;U (u1, u2) - вектор 1&lt;/p&gt;&lt;p&gt;V (v1, v2) - вектор 2&lt;/p&gt;&lt;p&gt;U * V = u1*v1 + u2*v2&lt;/p&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;Применяя этот метод, надо помнить о&amp;nbsp;том, что&amp;nbsp;скалярное произведение очень сильно зависит от&amp;nbsp;длины векторов. Оно применимо только для&amp;nbsp;сравнения схожести векторов, имеющих одинаковую длину.&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;Чем оно больше, тем больше похожи вектора.&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="jAn2KmhTPxv43Cljfc9A-11" vertex="1">
          <mxGeometry x="17" y="88" width="190" height="436" as="geometry" />
        </mxCell>
        <mxCell id="jAn2KmhTPxv43Cljfc9A-3" value="&lt;h1&gt;Косинусный коэффициент&lt;br&gt;векторов&lt;/h1&gt;&lt;p&gt;S = U * V / ( ||U|| * ||V||) ,&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;где:&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp; &amp;nbsp;U * V - скалярное произведение векторов&lt;br&gt;&amp;nbsp;||U|| - длина вектора U = sqrt(u1**2 + u2**2)&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Вычисляют, находя косинус угла между двумя векторами. Чем этот коэффициент больше&amp;nbsp;— тем сильнее векторы похожи друг на&amp;nbsp;друга. Формула для&amp;nbsp;вычисления этого коэффициента предусматривает вычисление скалярного произведения векторов, которое делят на&amp;nbsp;произведение длин векторов.&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Это дополнение формулы скалярного произведения, нормализующее результаты, позволяет эффективно измерять схожесть векторов, учитывая их направления и не&amp;nbsp;обращая внимания на&amp;nbsp;их длины.&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;При работе с единичными векторами, их скалярное произведение и косинусный коэффициент дают в точности одинаковые результаты.&lt;/p&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;КОСИНУСНОЕ РАССТОЯНИЕ:&lt;/p&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;1 - S&lt;/p&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;Чем меньше, тем более похожи два вектора&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="jAn2KmhTPxv43Cljfc9A-11" vertex="1">
          <mxGeometry x="217" y="88" width="280" height="619" as="geometry" />
        </mxCell>
        <mxCell id="jAn2KmhTPxv43Cljfc9A-8" value="&lt;h1&gt;Евклидово расстояние&lt;/h1&gt;&lt;p&gt;Чем меньше евклидово расстояние между двумя векторами, тем они более похожи.&lt;/p&gt;&lt;p style=&quot;border-color: var(--border-color);&quot;&gt;U (u1, u2) - вектор 1&lt;/p&gt;&lt;p style=&quot;border-color: var(--border-color);&quot;&gt;V (v1, v2) - вектор 2&lt;/p&gt;&lt;p style=&quot;border-color: var(--border-color);&quot;&gt;d(U, V) = sqrt ( (u1 - v1)^2 + (u2 - v2)^2 )&lt;/p&gt;&lt;p style=&quot;border-color: var(--border-color);&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: justify; border-color: var(--border-color);&quot;&gt;В&amp;nbsp;отличие от&amp;nbsp;косинусного коэффициента, при&amp;nbsp;вычислении евклидового расстояния во&amp;nbsp;внимание принимаются длина и направление векторов.&lt;br&gt;&lt;/p&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="jAn2KmhTPxv43Cljfc9A-11" vertex="1">
          <mxGeometry x="506" y="88" width="259" height="361" as="geometry" />
        </mxCell>
        <mxCell id="jAn2KmhTPxv43Cljfc9A-10" value="" style="swimlane;startSize=0;" parent="jAn2KmhTPxv43Cljfc9A-11" vertex="1">
          <mxGeometry y="80" width="776" height="498" as="geometry" />
        </mxCell>
        <mxCell id="ZfBfhqL-bQsjwtxrd6Du-7" value="&lt;ul style=&quot;transition: opacity 0.2s ease-in-out 0s, color 0.2s ease-in-out 0s, text-decoration 0.2s ease-in-out 0s, background-color 0.2s ease-in-out 0s, -webkit-text-decoration 0.2s ease-in-out 0s; quotes: &amp;quot;«&amp;quot; &amp;quot;»&amp;quot;; padding-inline-start: 32px; margin-top: 32px; color: rgb(51, 51, 51); font-family: -apple-system, BlinkMacSystemFont, Arial, sans-serif; text-align: start; font-size: 11px; line-height: 90%;&quot;&gt;&lt;li style=&quot;transition: opacity 0.2s ease-in-out 0s, color 0.2s ease-in-out 0s, text-decoration 0.2s ease-in-out 0s, background-color 0.2s ease-in-out 0s, -webkit-text-decoration 0.2s ease-in-out 0s; quotes: &amp;quot;«&amp;quot; &amp;quot;»&amp;quot;; line-height: 1.5rem; margin: 0px 0px 6px; padding: 0px;&quot;&gt;&lt;p style=&quot;text-align: justify; transition: opacity 0.2s ease-in-out 0s, color 0.2s ease-in-out 0s, text-decoration 0.2s ease-in-out 0s, background-color 0.2s ease-in-out 0s, -webkit-text-decoration 0.2s ease-in-out 0s; quotes: &amp;quot;«&amp;quot; &amp;quot;»&amp;quot;; margin: 0px; padding: 0px; line-height: 90%;&quot;&gt;Если ваши эмбеддинги имеют разную длину, и вы хотите учитывать их длину при&amp;nbsp;определении их схожести, тогда лучше всего будет выбрать евклидово расстояние между векторами, так как&amp;nbsp;при&amp;nbsp;его вычислении учитывается и длина векторов, и их направление.&lt;/p&gt;&lt;/li&gt;&lt;li style=&quot;transition: opacity 0.2s ease-in-out 0s, color 0.2s ease-in-out 0s, text-decoration 0.2s ease-in-out 0s, background-color 0.2s ease-in-out 0s, -webkit-text-decoration 0.2s ease-in-out 0s; quotes: &amp;quot;«&amp;quot; &amp;quot;»&amp;quot;; line-height: 1.5rem; margin: 12px 0px 0px; padding: 0px;&quot;&gt;&lt;p style=&quot;text-align: justify; transition: opacity 0.2s ease-in-out 0s, color 0.2s ease-in-out 0s, text-decoration 0.2s ease-in-out 0s, background-color 0.2s ease-in-out 0s, -webkit-text-decoration 0.2s ease-in-out 0s; quotes: &amp;quot;«&amp;quot; &amp;quot;»&amp;quot;; margin: 0px; padding: 0px; line-height: 90%;&quot;&gt;Если все ваши эмбеддинги нормализованы, приведены к&amp;nbsp;единичной длине, тогда все три рассмотренных нами подхода дадут, как&amp;nbsp;вы уже видели, схожие результаты. Но&amp;nbsp;при&amp;nbsp;этом скалярное произведение векторов вычисляется&amp;nbsp;быстрее.&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="jAn2KmhTPxv43Cljfc9A-10">
          <mxGeometry x="515" y="294" width="253" height="194" as="geometry" />
        </mxCell>
        <mxCell id="ZfBfhqL-bQsjwtxrd6Du-2" value="Text" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-91" y="350" width="60" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
